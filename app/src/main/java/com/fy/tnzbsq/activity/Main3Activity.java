package com.fy.tnzbsq.activity;import java.lang.reflect.Field;import org.kymjs.kjframe.KJActivity;import org.kymjs.kjframe.ui.BindView;import org.kymjs.kjframe.widget.KJSlidingMenu;import com.fy.tnzbsq.R;import android.os.Build;import android.view.View;import android.view.ViewGroup;import android.widget.ImageButton;public class Main3Activity extends KJActivity {	@BindView(id = R.id.main_group)	private KJSlidingMenu mSliding;	@BindView(id = R.id.main_title_more_icon, click = true)	private ImageButton moreIcon;	@BindView(id = R.id.main_user_icon, click = true)	private ImageButton mainUserIcon;	@Override	public void setRootView() {		setContentView(R.layout.main3);	}	@Override	public void initWidget() {		super.initWidget();		// if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {		// // 透明状态栏		// getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);		// // 透明导航栏		// getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);		// }		// setStatusBar();	}	@Override	public void widgetClick(View v) {		super.widgetClick(v);		switch (v.getId()) {		case R.id.main_title_more_icon:		case R.id.main_user_icon:			mSliding.openMenu();			break;		default:			break;		}	}	/**	 * 设置沉浸式状态栏	 */	protected void setStatusBar() {		if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {			final ViewGroup linear_bar = (ViewGroup) findViewById(R.id.rl_maincenter_title);			final int statusHeight = getStatusBarHeight();			linear_bar.post(new Runnable() {				@Override				public void run() {					int titleHeight = linear_bar.getHeight();					android.widget.RelativeLayout.LayoutParams params = (android.widget.RelativeLayout.LayoutParams) linear_bar							.getLayoutParams();					params.height = statusHeight + titleHeight;					linear_bar.setLayoutParams(params);				}			});		}	}	/**	 * 获取状态栏的高度	 * 	 * @return	 */	protected int getStatusBarHeight() {		try {			Class<?> c = Class.forName("com.android.internal.R$dimen");			Object obj = c.newInstance();			Field field = c.getField("status_bar_height");			int x = Integer.parseInt(field.get(obj).toString());			return getResources().getDimensionPixelSize(x);		} catch (Exception e) {			e.printStackTrace();		}		return 0;	}}